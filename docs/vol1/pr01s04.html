<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>4. Producción</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 1)" />
    <link rel="up" href="prologo.html" title="Prólogo a la traducción" />
    <link rel="prev" href="pr01s03.html" title="3. Código fuente" />
    <link rel="next" href="pr01s04s02.html" title="4.2. Convenciones tipográficas" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="pr01s03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="pr01s03.html">3. Código fuente</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="prologo.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="pr01s04s02.html">4.2. Convenciones tipográficas</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="pr01s04s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="sect1" title="4. Producción">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="idp26008"></a>4. Producción</h2>
          </div>
        </div>
      </div>
      <p>
      Todo el proceso de traducción, edición, formato y tipografía ha
      sido realizado íntegramente con software libre. Todo el software
      utilizado está disponible en la distribución Debian GNU/Linux,
      que es la que se ha utilizado principalmente para la
      actualización y mantenimiento de los documentos obtenidos como
      resultado.
    </p>
      <p>
      El texto ha sido escrito en el lenguaje de marcado DocBook versión
      4.5 en su variante XML. Cada capítulo está contenido en un fichero
      independiente y todos ellos se incluyen en un fichero
      «maestro» utilizando XInclude.
    </p>
      <p>
      Debido a que muchos procesadores de DocBook no soportan
      adecuadamente la característica XInclude, se usa la herramienta
      <span class="application">xsltproc</span><sup>[<a id="idp90240" href="#ftn.idp90240" class="footnote">4</a>]</sup>
      para generar un único fichero XML que contiene el texto de todo
      el libro, y es ese fichero resultante el que se procesa.
    </p>
      <div class="sect2" title="4.1. Código fuente">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp91032"></a>4.1. Código fuente</h3>
            </div>
          </div>
        </div>
        <p>
	También se utiliza XInclude para añadir en su lugar el contenido
	de los ficheros de código fuente escritos en C++. De ese modo,
	el texto de los listados que aparecen en el libro es idéntico a
	los ficheros C++ que distribuye el autor. De ese modo, la
	edición es mucha más limpia y sobretodo se evitan posibles
	errores de transcripción de los listados.
      </p>
        <p>
	Utilizando un pequeño programa escrito en lenguaje
	Python<sup>[<a id="idp92488" href="#ftn.idp92488" class="footnote">5</a>]</sup>,
	se substituyen los nombres etiquetados de los ficheros por la
	sentencia XInclude correspondiente:
      </p>
        <pre class="programlisting">
<span class="hl slc">//: V1C02:Hello.cpp</span>
</pre>
        <p>
	pasa a ser:
      </p>
        <pre class="programlisting">
<span class="hl opt">&lt;</span>example<span class="hl opt">&gt;</span>
  <span class="hl opt">&lt;</span>title<span class="hl opt">&gt;</span>C02<span class="hl opt">/</span>Hello<span class="hl opt">.</span>cpp<span class="hl opt">&lt;/</span>title<span class="hl opt">&gt;</span>
  <span class="hl opt">&lt;</span>programlisting language<span class="hl opt">=</span><span class="hl str">&quot;C++&quot;</span><span class="hl opt">&gt;</span>
    <span class="hl opt">&lt;</span>xi<span class="hl opt">:</span>include parse<span class="hl opt">=</span><span class="hl str">&quot;text&quot;</span> href<span class="hl opt">=</span><span class="hl str">&quot;./code_v1/C02/Hello.cpp&quot;</span><span class="hl opt">/&gt;</span>
  <span class="hl opt">&lt;/</span>programlisting<span class="hl opt">&gt;</span>
<span class="hl opt">&lt;/</span>example<span class="hl opt">&gt;</span>
</pre>
        <p>
	Una ver realizada esta substitución, se utiliza de nuevo
	<span class="command"><strong>xsltproc</strong></span> para montar tanto el texto como los
	listados en un único fichero XML.
      </p>
      </div>
      <div class="footnotes">
        <br />
        <hr width="100" align="left" />
        <div class="footnote">
          <p>
            <sup>[<a id="ftn.idp90240" href="#idp90240" class="para">4</a>] </sup>
            <a class="ulink" href="http://xmlsoft.org/XSLT/xsltproc2.html" target="_top">http://xmlsoft.org/XSLT/xsltproc2.html</a>
          </p>
        </div>
        <div class="footnote">
          <p>
            <sup>[<a id="ftn.idp92488" href="#idp92488" class="para">5</a>] </sup>
            <code class="filename">./utils/fix_includes.py</code>
          </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="pr01s03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="pr01s03.html">3. Código fuente</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="prologo.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="pr01s04s02.html">4.2. Convenciones tipográficas</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="pr01s04s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
