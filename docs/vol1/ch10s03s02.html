<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>10.3.2. Clases anidadas y locales</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 1)" />
    <link rel="up" href="ch10s03.html" title="10.3. Miembros estáticos en C++" />
    <link rel="prev" href="ch10s03.html" title="10.3. Miembros estáticos en C++" />
    <link rel="next" href="ch10s03s03.html" title="10.3.3. Métodos estáticos" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch10s03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch10s03.html">10.3. Miembros estáticos en C++</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="ch10s03.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch10s03s03.html">10.3.3. Métodos estáticos</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch10s03s03.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="sect2" title="10.3.2. Clases anidadas y locales">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a id="idp6678952"></a>10.3.2. Clases anidadas y locales</h3>
          </div>
        </div>
      </div>
      <p>
	Puede colocar fácilmente atributos estáticos en clases que
	están anidadas dentro de otras clases. La definición de tales
	miembros es intuitiva y obvia (tan sólo utiliza otro nivel de
	resolución de ámbito). No obstante, no puede tener atributos
	estáticos dentro de clases locales (una clase local es una
	clase definida dentro de una función). Por tanto,
      </p>
      <div class="example">
        <a id="idp6680136"></a>
        <div class="example-contents">
          <pre class="programlisting">
<span class="hl slc">//: C10:Local.cpp</span>
<span class="hl slc">// Static members &amp; local classes</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl slc">// Nested class CAN have static data members:</span>
<span class="hl kwc">class</span> Outer <span class="hl opt">{</span>
  <span class="hl kwc">class</span> Inner <span class="hl opt">{</span>
    <span class="hl kwb">static int</span> i<span class="hl opt">;</span> <span class="hl slc">// OK</span>
  <span class="hl opt">};</span>
<span class="hl opt">};</span>

<span class="hl kwb">int</span> Outer<span class="hl opt">::</span>Inner<span class="hl opt">::</span>i <span class="hl opt">=</span> <span class="hl num">47</span><span class="hl opt">;</span>

<span class="hl slc">// Local class cannot have static data members:</span>
<span class="hl kwb">void</span> <span class="hl kwd">f</span><span class="hl opt">() {</span>
  <span class="hl kwc">class</span> Local <span class="hl opt">{</span>
  <span class="hl kwc">public</span><span class="hl opt">:</span>
<span class="hl slc">//! static int i;  // Error</span>
    <span class="hl slc">// (How would you define i?)</span>
  <span class="hl opt">}</span> x<span class="hl opt">;</span>
<span class="hl opt">}</span> 

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span> Outer x<span class="hl opt">;</span> <span class="hl kwd">f</span><span class="hl opt">(); }</span> <span class="hl slc">///:~</span>
</pre>
        </div>
        <p class="title">
          <strong>Listado 10.21. C10/Local.cpp</strong>
        </p>
      </div>
      <br class="example-break" />
      <p>
	Ya puede ver el problema con atributos estáticos en clases
	locales: ¿Cómo describirá el dato miembro en el ámbito del
	fichero para poder definirlo? En la práctica, el uso de clases
	locales es muy poco común.
      </p>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch10s03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch10s03.html">10.3. Miembros estáticos en C++</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="ch10s03.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch10s03s03.html">10.3.3. Métodos estáticos</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch10s03s03.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
