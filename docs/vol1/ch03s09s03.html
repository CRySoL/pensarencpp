<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>3.9.3. La macro C assert()</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 1)" />
    <link rel="up" href="ch03s09.html" title="3.9. Consejos para depuración" />
    <link rel="prev" href="ch03s09s02.html" title="3.9.2. Convertir variables y expresiones en cadenas" />
    <link rel="next" href="C03-punteros-a-funcion.html" title="3.10. Direcciones de función" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch03s09s02.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch03s09s02.html">3.9.2. Convertir variables y expresiones en cadenas</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="ch03s09.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="C03-punteros-a-funcion.html">3.10. Direcciones de función</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="C03-punteros-a-funcion.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="sect2" title="3.9.3. La macro C assert()">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a id="idp4987520"></a>3.9.3. La macro C assert()</h3>
          </div>
        </div>
      </div>
      <p>
	En el fichero de cabecera estándar
	<code class="filename">&lt;cassert&gt;</code> aparece
	<code class="function">assert()</code>, que es una macro de
	depuración. Cuando se utiliza <code class="function">assert()</code>, se
	le debe dar un argumento que es una expresión que usted está
	«aseverando». El preprocesador genera código que
	comprueba la aserción. Si la aserción no es cierta, el programa
	parará después de imprimir un mensaje de error informando que la
	aserción falló. Este es un ejemplo trivial:
      </p>
      <div class="example">
        <a id="idp4989984"></a>
        <div class="example-contents">
          <pre class="programlisting">
<span class="hl slc">//: C03:Assert.cpp</span>
<span class="hl slc">// Use of the assert() debugging macro</span>
<span class="hl ppc">#include &lt;cassert&gt;</span>  <span class="hl slc">// Contains the macro</span>
<span class="hl ppc"></span><span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  <span class="hl kwb">int</span> i <span class="hl opt">=</span> <span class="hl num">100</span><span class="hl opt">;</span>
  <span class="hl kwa">assert</span><span class="hl opt">(</span>i <span class="hl opt">!=</span> <span class="hl num">100</span><span class="hl opt">);</span> <span class="hl slc">// Fails</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
        </div>
        <p class="title">
          <strong>Listado 3.64. C03/Assert.cpp</strong>
        </p>
      </div>
      <br class="example-break" />
      <p>
	La macro original es C Estándar, así que está disponible también
	en el fichero de cabecera <code class="filename">assert.h</code>.
      </p>
      <p>
	Cuando haya terminado la depuración, puede eliminar el código
	generado por la macro escribiendo la siguiente línea:
      </p>
      <pre class="programlisting">
<span class="hl ppc">#define NDEBUG</span>
</pre>
      <p>
	en el programa, antes de la inclusión de
	<code class="filename">&lt;cassert&gt;</code>, o definiendo
	<code class="constant">NDEBUG</code> en la línea de comandos del
	compilador. <code class="constant">NDEBUG</code> es una bandera que se
	usa en <code class="filename">&lt;cassert&gt;</code> para cambiar el código
	generado por las macros.
      </p>
      <p>
	Más adelante en este libro, verá algunas alternativas más
	sofisticadas a <code class="function">assert()</code>.
      </p>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch03s09s02.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch03s09s02.html">3.9.2. Convertir variables y expresiones en cadenas</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="ch03s09.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="C03-punteros-a-funcion.html">3.10. Direcciones de función</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="C03-punteros-a-funcion.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
