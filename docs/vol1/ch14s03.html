<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>14.3. Lista de inicializadores de un constructor</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 1)" />
    <link rel="up" href="C14.html" title="14: Herencia y Composición" />
    <link rel="prev" href="ch14s02.html" title="14.2. Sintaxis de la herencia" />
    <link rel="next" href="ch14s03s02.html" title="14.3.2. Tipos predefinidos en la lista de inicializadores" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch14s02.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch14s02.html">14.2. Sintaxis de la herencia</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="C14.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch14s03s02.html">14.3.2. Tipos predefinidos en la lista de inicializadores</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch14s03s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="sect1" title="14.3. Lista de inicializadores de un constructor">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="idp7848312"></a>14.3. Lista de inicializadores de un constructor</h2>
          </div>
        </div>
      </div>
      <p>
      Hemos visto lo importante que es en C++ garantizar una correcta
      inicialización, y esto no va a cambiar en la composición ni en la
      herencia. Cuando se crea un objeto, el compilador garantiza la
      ejecución todos los constructores para cada uno de los
      subobjetos. Hasta ahora, en los ejemplos, todos los subobjetos
      tienen un constructor por defecto, que es ejecutado por el
      compilador automáticamente. Pero que ocurre si uno de nuestros
      subobjetos no tiene constructores por defecto, o si queremos
      cambiar los parámetros por defecto de un constructor. Esto supone
      un problema, porque el constructor de la nueva clase no tiene
      permiso para acceder a los miembros privados del subobjeto y por
      ello, no puede inicializarlos directamente.
    </p>
      <p>
      La solución es simple: ejecutar el constructor del subobjeto. C++
      proporciona una sintaxis especial para ello, la lista de
      inicializadores de un constructor. La forma de la lista de
      inicializadores de un constructor demuestra como actúa como la
      herencia. Con la herencia, las clases bases son colocadas después
      de dos puntos y justo después, puede abrir la llave para empezar
      con el cuerpo de la clase. En la lista de inicializadores de un
      constructor, se coloca las llamadas a los constructores de los
      subobjetos, después los argumentos del constructor y los dos
      puntos, pero todo esto, antes de abrir el brazo del cuerpo de la
      función. En una clase MyType, que hereda de Bar, sería de la
      siguiente manera:
    </p>
      <pre class="programlisting">
MyType<span class="hl opt">::</span><span class="hl kwd">MyType</span><span class="hl opt">(</span><span class="hl kwb">int</span> i<span class="hl opt">) :</span> <span class="hl kwd">Bar</span><span class="hl opt">(</span>i<span class="hl opt">) {</span> <span class="hl slc">// ...</span>
</pre>
      <p>
      si el constructor de Bar tuviera un solo parámetro del tipo <code class="type">int</code>.
    </p>
      <div class="sect2" title="14.3.1. Inicialización de objetos miembros">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp7853440"></a>14.3.1. Inicialización de objetos miembros</h3>
            </div>
          </div>
        </div>
        <p>
	La inicialización de objetos miembros de una clase utiliza la
	misma sintaxis cuando se usa la composición. Para la
	composición, se proporcionan los nombres de los objetos en lugar
	de los nombres de las clases. Si se tiene más de una llamada al
	constructor en la lista de inicializadores, las llamadas se
	separan con comas:
      </p>
        <pre class="programlisting">
MyType2<span class="hl opt">::</span><span class="hl kwd">MyType2</span><span class="hl opt">(</span><span class="hl kwb">int</span> i<span class="hl opt">) :</span> <span class="hl kwd">Bar</span><span class="hl opt">(</span>i<span class="hl opt">),</span> <span class="hl kwd">m</span><span class="hl opt">(</span>i<span class="hl opt">+</span><span class="hl num">1</span><span class="hl opt">) {</span> <span class="hl slc">// ...</span>
</pre>
        <p>
	Esta sería la forma de un constructor de la clase MyType2, la
	cual hereda de Bar y contiene un miembro objeto llamado
	m. Fíjese que mientras podemos ver el tipo de la clase base en
	la lista de inicializadores del constructor, sólo podemos ver el
	miembro identificador objeto.
      </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch14s02.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch14s02.html">14.2. Sintaxis de la herencia</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="C14.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch14s03s02.html">14.3.2. Tipos predefinidos en la lista de inicializadores</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch14s03s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
