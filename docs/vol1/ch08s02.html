<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>8.2. Punteros</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 1)" />
    <link rel="up" href="C08.html" title="8: Constantes" />
    <link rel="prev" href="C08.html" title="8: Constantes" />
    <link rel="next" href="ch08s02s02.html" title="8.2.2. Puntero constante" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="C08.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="C08.html">8: Constantes</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="C08.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch08s02s02.html">8.2.2. Puntero constante</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch08s02s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="sect1" title="8.2. Punteros">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="idp6068160"></a>8.2. Punteros</h2>
          </div>
        </div>
      </div>
      <p>
      Los punteros pueden ser constantes. El compilador pondrá más
      esfuerzo aún para evitar el almacenamiento y hacer expansión de
      constantes cuando se trata de punteros constantes, pero estas
      características parecen menos útiles en este caso.
      
      Lo más importante es que el compilador le avisará si intenta
      cambiar un puntero constante, lo que representa un buen elemento
      de seguridad. Cuando se usa <code class="keyword">const</code> con punteros tiene dos
      opciones: se pueden aplicar a lo que apunta el puntero o a la
      propia dirección almacenada en el puntero. La sintaxis es un poco
      confusa al principio pero se vuelve cómodo con la práctica.
    </p>
      <div class="sect2" title="8.2.1. Puntero a constante">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idp6070384"></a>8.2.1. Puntero a constante</h3>
            </div>
          </div>
        </div>
        <p>
	El truco con la definición de un puntero, al igual que con una
	definición complicada, es leerla empezando por el
	identificador e ir analizando la definición hacia afuera. El
	especificador <code class="keyword">const</code> está ligado a la cosa
	«más cercana».  Así que si se quiere impedir
	cambios en el elemento apuntado, escribe una definición
	parecida a esta:
      </p>
        <pre class="programlisting">
<span class="hl kwb">const int</span><span class="hl opt">*</span> u<span class="hl opt">;</span>
</pre>
        <p>
	Empezando por el identificador, se lee
	«<code class="varname">u</code> es un puntero, que apunta a un
	entero constante». En este caso no se requiere
	inicialización porque está diciendo que <code class="varname">u</code>
	puede apuntar a cualquier cosa (es decir, no es constante),
	pero la cosa a la que apunta no puede cambiar.
      </p>
        <p>
	Ahora viene la parte confusa. Podría pensar que hacer el puntero
	inalterable en si mismo, es decir, impedir cualquier cambio en
	la dirección que contiene <code class="varname">u</code>, es tan simple
	como mover la palabra <code class="keyword">const</code> al otro lado de la
	palabra <code class="type">int</code>:
      </p>
        <pre class="programlisting">
<span class="hl kwb">int const</span><span class="hl opt">*</span> v<span class="hl opt">;</span>
</pre>
        <p>
	y pensar que esto debería leerse «<code class="varname">v</code>
	es un puntero constante a un entero». Sin embargo, la
	forma de leerlo es «<code class="varname">v</code> es un puntero
	ordinario a un entero que es constante». Es decir, la
	palabra <code class="keyword">const</code> se refiere de nuevo al
	<code class="type">entero</code> y el efecto es el mismo que en la
	definición previa.  El hecho de que estas definiciones sean
	equivalentes es confuso, para evitar esta confusión por parte
	del lector del código, debería ceñirse a la primera forma.
      </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="C08.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="C08.html">8: Constantes</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="C08.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch08s02s02.html">8.2.2. Puntero constante</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch08s02s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
