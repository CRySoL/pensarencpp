<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>2.5. Introdución a las cadenas</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 1)" />
    <link rel="up" href="C02.html" title="2: Construir y usar objetos" />
    <link rel="prev" href="ch02s04s03.html" title="2.4.3. Llamar a otros programas" />
    <link rel="next" href="ch02s06.html" title="2.6. Lectura y escritura de ficheros" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch02s04s03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch02s04s03.html">2.4.3. Llamar a otros programas</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="C02.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch02s06.html">2.6. Lectura y escritura de ficheros</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch02s06.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="sect1" title="2.5. Introdución a las cadenas">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="idp4147264"></a>2.5. Introdución a las cadenas</h2>
          </div>
        </div>
      </div>
      <p>
      Un array de caracteres puede ser bastante útil, aunque está
      bastante limitado. Simplemente son un grupo de caracteres en
      memoria, pero si quiere hacer algo útil, debe manejar todos los
      pequeños detalles. Por ejemplo, el tamaño de un array de
      caracteres es fijo en tiempo de compilación. Si tiene un array de
      caracteres y quiere añadirle más caracteres, tendrá que saber
      mucho sobre ellos (incluso manejo dinámico de memoria, copia de
      array de caracteres, y concatenación) antes de conseguir lo que
      desea. Esta es exactamente la clase de cosas que desearíamos que
      hiciera un objeto por nosotros.
    </p>
      <p>
      La clase <code class="classname">string</code> (cadena) del C++ Estándar
      ha sido diseñada para que se encargue y oculte las manipulaciones
      de bajo nivel de los arrays de caracteres que antes tenía que
      realizar el programador de C. Estas manipulaciones han sido una
      fuente de constantes pérdidas de tiempo y errores desde los
      orígenes del lenguaje C. Aunque hay un capítulo entero dedicado a
      la clase <code class="classname">string</code> en el Volumen 2 de este
      libro, las cadenas son tan importantes y facilitan tanto la vida
      que las presentaré aquí para usarlas lo antes posible en el libro.
    </p>
      <p>
      Para usar las cadenas debe incluir el fichero de cabecera
      <code class="filename">&lt;string&gt;</code>. La clase
      <code class="classname">string</code> se encuentra en el espacio de
      nombres <code class="literal">std</code> por lo que se necesita usar la
      directiva <code class="keyword">using</code>. Gracias a la sobrecarga de operadores,
      la sintaxis del uso de las cadenas es muy intuitiva:
    </p>
      <div class="example">
        <a id="idp4151872"></a>
        <div class="example-contents">
          <pre class="programlisting">
<span class="hl slc">//: C02:HelloStrings.cpp</span>
<span class="hl slc">// The basics of the Standard C++ string class</span>
<span class="hl ppc">#include &lt;string&gt;</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  string s1<span class="hl opt">,</span> s2<span class="hl opt">;</span> <span class="hl slc">// Empty strings</span>
  string s3 <span class="hl opt">=</span> <span class="hl str">&quot;Hello, World.&quot;</span><span class="hl opt">;</span> <span class="hl slc">// Initialized</span>
  string <span class="hl kwd">s4</span><span class="hl opt">(</span><span class="hl str">&quot;I am&quot;</span><span class="hl opt">);</span> <span class="hl slc">// Also initialized</span>
  s2 <span class="hl opt">=</span> <span class="hl str">&quot;Today&quot;</span><span class="hl opt">;</span> <span class="hl slc">// Assigning to a string</span>
  s1 <span class="hl opt">=</span> s3 <span class="hl opt">+</span> <span class="hl str">&quot; &quot;</span> <span class="hl opt">+</span> s4<span class="hl opt">;</span> <span class="hl slc">// Combining strings</span>
  s1 <span class="hl opt">+=</span> <span class="hl str">&quot; 8 &quot;</span><span class="hl opt">;</span> <span class="hl slc">// Appending to a string</span>
  cout <span class="hl opt">&lt;&lt;</span> s1 <span class="hl opt">+</span> s2 <span class="hl opt">+</span> <span class="hl str">&quot;!&quot;</span> <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
        </div>
        <p class="title">
          <strong>Listado 2.7. C02/HelloStrings.cpp</strong>
        </p>
      </div>
      <br class="example-break" />
      <p>
      Las dos primeras cadenas, <code class="varname">s1</code> y
      <code class="varname">s2</code> empiezan estando vacías, mientras que
      <code class="varname">s3</code> y <code class="varname">s4</code> muestran dos formas
      de inicializar los objetos <code class="classname">string</code> con
      arrays de caracteres (puede inicializar objetos
      <code class="classname">string</code> igual de fácil con otros objetos
      <code class="classname">string</code>).
    </p>
      <p>
      Se puede asignar a un objeto <code class="classname">string</code> usando
      <code class="literal">=</code>. Eso sustituye el contenido previo de la cadena con
      lo que se encuentra en el lado derecho de la asignación, y no hay
      que preocuparse de lo que ocurre con el contenido anterior porque
      se controla automáticamente. Para combinar las cadenas simplemente
      debe usar el operador de suma «+», que tambien le
      permite concatenar cadenas (<code class="classname">strings</code>) con
      arrays de caracteres. Si quiere añadir una cadena o un array de
      caracteres a otra cadena, puede usar el operador
      <code class="literal">+=</code>. Finalmente, dése cuenta que
      <code class="classname">iostream</code> sabe como tratar las cadenas, por
      lo que usted puede enviar una cadena (o una expresión que produzca
      un <code class="classname">string</code>, que es lo que sucede con
      <code class="code">s1 + s2 + "!"</code>&gt;) directamente a
      <code class="varname">cout</code> para imprimirla.
    </p>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch02s04s03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch02s04s03.html">2.4.3. Llamar a otros programas</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="C02.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch02s06.html">2.6. Lectura y escritura de ficheros</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch02s06.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
