<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>6: Las plantillas en profundidad</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 2)" />
    <link rel="up" href="pt02.html" title="Parte II. La librería Estándar de C++" />
    <link rel="prev" href="ch05s13.html" title="5.13." />
    <link rel="next" href="ch06s02.html" title="6.2." />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch05s13.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch05s13.html">5.13.  </a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="pt02.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch06s02.html">6.2.  </a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch06s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="chapter" title="6: Las plantillas en profundidad">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="C05"></a>6: Las plantillas en profundidad</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Tabla de contenidos</strong>
        </p>
        <dl>
          <dt>
            <span class="sect1">
              <a href="C05.html#idp4370880">6.1.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s02.html">6.2.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s03.html">6.3.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s04.html">6.4.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s05.html">6.5.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s06.html">6.6.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s07.html">6.7.  </a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch06s08.html">6.8.  </a>
            </span>
          </dt>
        </dl>
      </div>
      <p>

  </p>
      <p>

  </p>
      <div class="sect1" title="6.1.">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="idp4370880"></a>6.1.  </h2>
            </div>
          </div>
        </div>
        <p>

    </p>
        <p>

    </p>
        <p>

    </p>
        <p>

    </p>
        <p>

    </p>
        <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Stack <span class="hl opt">{</span>
  T<span class="hl opt">*</span> data<span class="hl opt">;</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">);</span>
  <span class="hl slc">// Etc.</span>
<span class="hl opt">};</span>
</pre>
        <p>

    </p>
        <pre class="programlisting">
Stack<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;</span> myStack<span class="hl opt">;</span> <span class="hl slc">// A Stack of ints</span>
</pre>
        <p>

    </p>
        <div class="sect2" title="6.1.1.">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="idp4373576"></a>6.1.1.  </h3>
              </div>
            </div>
          </div>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwb">size_t</span> N<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Stack <span class="hl opt">{</span>
  T data<span class="hl opt">[</span>N<span class="hl opt">];</span>  <span class="hl slc">// Fixed capacity is N</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">);</span>
  <span class="hl slc">// Etc.</span>
<span class="hl opt">};</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
Stack<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">,</span> <span class="hl num">100</span><span class="hl opt">&gt;</span> myFixedStack<span class="hl opt">;</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4375712"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:Urand.h {-bor}</span>
<span class="hl slc">// Unique randomizer.</span>
<span class="hl ppc">#ifndef URAND_H</span>
<span class="hl ppc">#define URAND_H</span>
<span class="hl ppc">#include &lt;bitset&gt;</span>
<span class="hl ppc">#include &lt;cstddef&gt;</span>
<span class="hl ppc">#include &lt;cstdlib&gt;</span>
<span class="hl ppc">#include &lt;ctime&gt;</span>
<span class="hl kwa">using</span> std<span class="hl opt">::</span><span class="hl kwb">size_t</span><span class="hl opt">;</span>
<span class="hl kwa">using</span> std<span class="hl opt">::</span>bitset<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwb">size_t</span> UpperBound<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Urand <span class="hl opt">{</span>
  bitset<span class="hl opt">&lt;</span>UpperBound<span class="hl opt">&gt;</span> used<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwd">Urand</span><span class="hl opt">() {</span> <span class="hl kwd">srand</span><span class="hl opt">(</span><span class="hl kwd">time</span><span class="hl opt">(</span><span class="hl num">0</span><span class="hl opt">)); }</span> <span class="hl slc">// Randomize</span>
  <span class="hl kwb">size_t</span> <span class="hl kwc">operator</span><span class="hl opt">()();</span> <span class="hl slc">// The &quot;generator&quot; function</span>
<span class="hl opt">};</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwb">size_t</span> UpperBound<span class="hl opt">&gt;</span>
<span class="hl kwc">inline</span> <span class="hl kwb">size_t</span> Urand<span class="hl opt">&lt;</span>UpperBound<span class="hl opt">&gt;::</span><span class="hl kwc">operator</span><span class="hl opt">()() {</span>
  <span class="hl kwa">if</span><span class="hl opt">(</span>used<span class="hl opt">.</span><span class="hl kwd">count</span><span class="hl opt">() ==</span> UpperBound<span class="hl opt">)</span>
    used<span class="hl opt">.</span><span class="hl kwd">reset</span><span class="hl opt">();</span>  <span class="hl slc">// Start over (clear bitset)</span>
  <span class="hl kwb">size_t</span> newval<span class="hl opt">;</span>
  <span class="hl kwa">while</span><span class="hl opt">(</span>used<span class="hl opt">[</span>newval <span class="hl opt">=</span> <span class="hl kwd">rand</span><span class="hl opt">() %</span> UpperBound<span class="hl opt">])</span>
    <span class="hl opt">;</span> <span class="hl slc">// Until unique value is found</span>
  used<span class="hl opt">[</span>newval<span class="hl opt">] =</span> <span class="hl kwa">true</span><span class="hl opt">;</span>
  <span class="hl kwa">return</span> newval<span class="hl opt">;</span>
<span class="hl opt">}</span>
<span class="hl ppc">#endif</span> <span class="hl slc">// URAND_H ///:~</span><span class="hl ppc"></span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.1. C05/Urand.h</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <div class="example">
            <a id="idp4378272"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:UrandTest.cpp {-bor}</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl ppc">#include</span> <span class="hl pps">&quot;Urand.h&quot;</span><span class="hl ppc"></span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  Urand<span class="hl opt">&lt;</span><span class="hl num">10</span><span class="hl opt">&gt;</span> u<span class="hl opt">;</span>
  <span class="hl kwa">for</span><span class="hl opt">(</span><span class="hl kwb">int</span> i <span class="hl opt">=</span> <span class="hl num">0</span><span class="hl opt">;</span> i <span class="hl opt">&lt;</span> <span class="hl num">20</span><span class="hl opt">; ++</span>i<span class="hl opt">)</span>
    cout <span class="hl opt">&lt;&lt;</span> <span class="hl kwd">u</span><span class="hl opt">() &lt;&lt;</span> <span class="hl str">' '</span><span class="hl opt">;</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.2. C05/UrandTest.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
        </div>
        <div class="sect2" title="6.1.2.">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="idp4379688"></a>6.1.2.  </h3>
              </div>
            </div>
          </div>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwb">size_t</span> N <span class="hl opt">=</span> <span class="hl num">100</span><span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Stack <span class="hl opt">{</span>
  T data<span class="hl opt">[</span>N<span class="hl opt">];</span>  <span class="hl slc">// Fixed capacity is N</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">);</span>
  <span class="hl slc">// Etc.</span>
<span class="hl opt">};</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T <span class="hl opt">=</span> <span class="hl kwb">int</span><span class="hl opt">,</span> <span class="hl kwb">size_t</span> N <span class="hl opt">=</span> <span class="hl num">100</span><span class="hl opt">&gt;</span>  <span class="hl slc">// Both defaulted</span>
<span class="hl kwc">class</span> Stack <span class="hl opt">{</span>
  T data<span class="hl opt">[</span>N<span class="hl opt">];</span>  <span class="hl slc">// Fixed capacity is N</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">);</span>
  <span class="hl slc">// Etc.</span>
<span class="hl opt">};</span>

Stack<span class="hl opt">&lt;&gt;</span> myStack<span class="hl opt">;</span>  <span class="hl slc">// Same as Stack&lt;int, 100&gt;</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">class</span> Allocator <span class="hl opt">=</span> allocator<span class="hl opt">&lt;</span>T<span class="hl opt">&gt; &gt;</span>
<span class="hl kwc">class</span> vector<span class="hl opt">;</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4383376"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:FuncDef.cpp</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">&gt;</span> T <span class="hl kwd">sum</span><span class="hl opt">(</span>T<span class="hl opt">*</span> b<span class="hl opt">,</span> T<span class="hl opt">*</span> e<span class="hl opt">,</span> T init <span class="hl opt">=</span> <span class="hl kwd">T</span><span class="hl opt">()) {</span>
  <span class="hl kwa">while</span><span class="hl opt">(</span>b <span class="hl opt">!=</span> e<span class="hl opt">)</span>
    init <span class="hl opt">+= *</span>b<span class="hl opt">++;</span>
  <span class="hl kwa">return</span> init<span class="hl opt">;</span>
<span class="hl opt">}</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  <span class="hl kwb">int</span> a<span class="hl opt">[] = {</span> <span class="hl num">1</span><span class="hl opt">,</span> <span class="hl num">2</span><span class="hl opt">,</span> <span class="hl num">3</span> <span class="hl opt">};</span>
  cout <span class="hl opt">&lt;&lt;</span> <span class="hl kwd">sum</span><span class="hl opt">(</span>a<span class="hl opt">,</span> a <span class="hl opt">+</span> <span class="hl kwa">sizeof</span> a <span class="hl opt">/</span> <span class="hl kwa">sizeof</span> a<span class="hl opt">[</span><span class="hl num">0</span><span class="hl opt">]) &lt;&lt;</span> endl<span class="hl opt">;</span> <span class="hl slc">// 6</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.3. C05/FuncDef.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
        </div>
        <div class="sect2" title="6.1.3.">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="idp4385096"></a>6.1.3.  </h3>
              </div>
            </div>
          </div>
          <p>

      </p>
          <div class="example">
            <a id="idp4385608"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:TempTemp.cpp</span>
<span class="hl slc">// Illustrates a template template parameter.</span>
<span class="hl ppc">#include &lt;cstddef&gt;</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">&gt;</span>
<span class="hl kwc">class</span> Array <span class="hl opt">{</span> <span class="hl slc">// A simple, expandable sequence</span>
  <span class="hl kwb">enum</span> <span class="hl opt">{</span> INIT <span class="hl opt">=</span> <span class="hl num">10</span> <span class="hl opt">};</span>
  T<span class="hl opt">*</span> data<span class="hl opt">;</span>
  <span class="hl kwb">size_t</span> capacity<span class="hl opt">;</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwd">Array</span><span class="hl opt">() {</span>
    count <span class="hl opt">=</span> <span class="hl num">0</span><span class="hl opt">;</span>
    data <span class="hl opt">=</span> <span class="hl kwa">new</span> T<span class="hl opt">[</span>capacity <span class="hl opt">=</span> INIT<span class="hl opt">];</span>
  <span class="hl opt">}</span>
  <span class="hl opt">~</span><span class="hl kwd">Array</span><span class="hl opt">() {</span> <span class="hl kwa">delete</span> <span class="hl opt">[]</span> data<span class="hl opt">; }</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span>
    <span class="hl kwa">if</span><span class="hl opt">(</span>count <span class="hl opt">==</span> capacity<span class="hl opt">) {</span>
      <span class="hl slc">// Grow underlying array</span>
      <span class="hl kwb">size_t</span> newCap <span class="hl opt">=</span> <span class="hl num">2</span> <span class="hl opt">*</span> capacity<span class="hl opt">;</span>
      T<span class="hl opt">*</span> newData <span class="hl opt">=</span> <span class="hl kwa">new</span> T<span class="hl opt">[</span>newCap<span class="hl opt">];</span>
      <span class="hl kwa">for</span><span class="hl opt">(</span><span class="hl kwb">size_t</span> i <span class="hl opt">=</span> <span class="hl num">0</span><span class="hl opt">;</span> i <span class="hl opt">&lt;</span> count<span class="hl opt">; ++</span>i<span class="hl opt">)</span>
        newData<span class="hl opt">[</span>i<span class="hl opt">] =</span> data<span class="hl opt">[</span>i<span class="hl opt">];</span>
      <span class="hl kwa">delete</span> <span class="hl opt">[]</span> data<span class="hl opt">;</span>
      data <span class="hl opt">=</span> newData<span class="hl opt">;</span>
      capacity <span class="hl opt">=</span> newCap<span class="hl opt">;</span>
    <span class="hl opt">}</span>
    data<span class="hl opt">[</span>count<span class="hl opt">++] =</span> t<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  <span class="hl kwb">void</span> <span class="hl kwd">pop_back</span><span class="hl opt">() {</span>
    <span class="hl kwa">if</span><span class="hl opt">(</span>count <span class="hl opt">&gt;</span> <span class="hl num">0</span><span class="hl opt">)</span>
      <span class="hl opt">--</span>count<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  T<span class="hl opt">*</span> <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> data<span class="hl opt">; }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> data <span class="hl opt">+</span> count<span class="hl opt">; }</span>
<span class="hl opt">};</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span><span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
<span class="hl kwc">class</span> Container <span class="hl opt">{</span>
  Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;</span> seq<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span> seq<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span>t<span class="hl opt">); }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">(); }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">(); }</span>
<span class="hl opt">};</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  Container<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">,</span> Array<span class="hl opt">&gt;</span> container<span class="hl opt">;</span>
  container<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">);</span>
  container<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl num">2</span><span class="hl opt">);</span>
  <span class="hl kwb">int</span><span class="hl opt">*</span> p <span class="hl opt">=</span> container<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">();</span>
  <span class="hl kwa">while</span><span class="hl opt">(</span>p <span class="hl opt">!=</span> container<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">())</span>
    cout <span class="hl opt">&lt;&lt; *</span>p<span class="hl opt">++ &lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.4. C05/TempTemp.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <pre class="programlisting">
Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;</span> seq<span class="hl opt">;</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span><span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> U<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
T <span class="hl kwc">operator</span><span class="hl opt">++(</span><span class="hl kwb">int</span><span class="hl opt">);</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4391072"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:TempTemp2.cpp</span>
<span class="hl slc">// A multi-variate template template parameter.</span>
<span class="hl ppc">#include &lt;cstddef&gt;</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwb">size_t</span> N<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Array <span class="hl opt">{</span>
  T data<span class="hl opt">[</span>N<span class="hl opt">];</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwd">Array</span><span class="hl opt">() {</span> count <span class="hl opt">=</span> <span class="hl num">0</span><span class="hl opt">; }</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span>
    <span class="hl kwa">if</span><span class="hl opt">(</span>count <span class="hl opt">&lt;</span> N<span class="hl opt">)</span>
      data<span class="hl opt">[</span>count<span class="hl opt">++] =</span> t<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  <span class="hl kwb">void</span> <span class="hl kwd">pop_back</span><span class="hl opt">() {</span>
    <span class="hl kwa">if</span><span class="hl opt">(</span>count <span class="hl opt">&gt;</span> <span class="hl num">0</span><span class="hl opt">)</span>
      <span class="hl opt">--</span>count<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  T<span class="hl opt">*</span> <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> data<span class="hl opt">; }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> data <span class="hl opt">+</span> count<span class="hl opt">; }</span>
<span class="hl opt">};</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span><span class="hl kwb">size_t</span> N<span class="hl opt">,</span><span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span><span class="hl opt">,</span><span class="hl kwb">size_t</span><span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
<span class="hl kwc">class</span> Container <span class="hl opt">{</span>
  Seq<span class="hl opt">&lt;</span>T<span class="hl opt">,</span>N<span class="hl opt">&gt;</span> seq<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span> seq<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span>t<span class="hl opt">); }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">(); }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">(); }</span>
<span class="hl opt">};</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  <span class="hl kwb">const size_t</span> N <span class="hl opt">=</span> <span class="hl num">10</span><span class="hl opt">;</span>
  Container<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">,</span> N<span class="hl opt">,</span> Array<span class="hl opt">&gt;</span> container<span class="hl opt">;</span>
  container<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">);</span>
  container<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl num">2</span><span class="hl opt">);</span>
  <span class="hl kwb">int</span><span class="hl opt">*</span> p <span class="hl opt">=</span> container<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">();</span>
  <span class="hl kwa">while</span><span class="hl opt">(</span>p <span class="hl opt">!=</span> container<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">())</span>
    cout <span class="hl opt">&lt;&lt; *</span>p<span class="hl opt">++ &lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.5. C05/TempTemp2.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4393728"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:TempTemp3.cpp {-bor}{-msc}</span>
<span class="hl slc">// Template template parameters and default arguments.</span>
<span class="hl ppc">#include &lt;cstddef&gt;</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwb">size_t</span> N <span class="hl opt">=</span> <span class="hl num">10</span><span class="hl opt">&gt;</span>  <span class="hl slc">// A default argument</span>
<span class="hl kwc">class</span> Array <span class="hl opt">{</span>
  T data<span class="hl opt">[</span>N<span class="hl opt">];</span>
  <span class="hl kwb">size_t</span> count<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwd">Array</span><span class="hl opt">() {</span> count <span class="hl opt">=</span> <span class="hl num">0</span><span class="hl opt">; }</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span>
    <span class="hl kwa">if</span><span class="hl opt">(</span>count <span class="hl opt">&lt;</span> N<span class="hl opt">)</span>
      data<span class="hl opt">[</span>count<span class="hl opt">++] =</span> t<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  <span class="hl kwb">void</span> <span class="hl kwd">pop_back</span><span class="hl opt">() {</span>
    <span class="hl kwa">if</span><span class="hl opt">(</span>count <span class="hl opt">&gt;</span> <span class="hl num">0</span><span class="hl opt">)</span>
      <span class="hl opt">--</span>count<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  T<span class="hl opt">*</span> <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> data<span class="hl opt">; }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> data <span class="hl opt">+</span> count<span class="hl opt">; }</span>
<span class="hl opt">};</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span><span class="hl opt">,</span> <span class="hl kwb">size_t</span> <span class="hl opt">=</span> <span class="hl num">10</span><span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
<span class="hl kwc">class</span> Container <span class="hl opt">{</span>
  Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;</span> seq<span class="hl opt">;</span>  <span class="hl slc">// Default used</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span> seq<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span>t<span class="hl opt">); }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">(); }</span>
  T<span class="hl opt">*</span> <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">(); }</span>
<span class="hl opt">};</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  Container<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">,</span> Array<span class="hl opt">&gt;</span> container<span class="hl opt">;</span>
  container<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">);</span>
  container<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span><span class="hl num">2</span><span class="hl opt">);</span>
  <span class="hl kwb">int</span><span class="hl opt">*</span> p <span class="hl opt">=</span> container<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">();</span>
  <span class="hl kwa">while</span><span class="hl opt">(</span>p <span class="hl opt">!=</span> container<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">())</span>
    cout <span class="hl opt">&lt;&lt; *</span>p<span class="hl opt">++ &lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.6. C05/TempTemp3.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span><span class="hl opt">,</span> <span class="hl kwb">size_t</span> <span class="hl opt">=</span> <span class="hl num">10</span><span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4397232"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:TempTemp4.cpp {-bor}{-msc}</span>
<span class="hl slc">// Passes standard sequences as template arguments.</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl ppc">#include &lt;list&gt;</span>
<span class="hl ppc">#include &lt;memory&gt;</span>  <span class="hl slc">// Declares allocator&lt;T&gt;</span>
<span class="hl ppc"></span><span class="hl ppc">#include &lt;vector&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> U<span class="hl opt">,</span> <span class="hl kwc">class</span> <span class="hl opt">=</span> allocator<span class="hl opt">&lt;</span>U<span class="hl opt">&gt; &gt;</span>
         <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
<span class="hl kwc">class</span> Container <span class="hl opt">{</span>
  Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;</span> seq<span class="hl opt">;</span> <span class="hl slc">// Default of allocator&lt;T&gt; applied implicitly</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl kwb">const</span> T<span class="hl opt">&amp;</span> t<span class="hl opt">) {</span> seq<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span>t<span class="hl opt">); }</span>
  typename Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;::</span>iterator <span class="hl kwd">begin</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">(); }</span>
  typename Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;::</span>iterator <span class="hl kwd">end</span><span class="hl opt">() {</span> <span class="hl kwa">return</span> seq<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">(); }</span>
<span class="hl opt">};</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  <span class="hl slc">// Use a vector</span>
  Container<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">,</span> vector<span class="hl opt">&gt;</span> vContainer<span class="hl opt">;</span>
  vContainer<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">);</span>
  vContainer<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">2</span><span class="hl opt">);</span>
  <span class="hl kwa">for</span><span class="hl opt">(</span>vector<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;::</span>iterator p <span class="hl opt">=</span> vContainer<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">();</span>
      p <span class="hl opt">!=</span> vContainer<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">(); ++</span>p<span class="hl opt">) {</span>
    cout <span class="hl opt">&lt;&lt; *</span>p <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
  <span class="hl opt">}</span>
  <span class="hl slc">// Use a list</span>
  Container<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">,</span> list<span class="hl opt">&gt;</span> lContainer<span class="hl opt">;</span>
  lContainer<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">3</span><span class="hl opt">);</span>
  lContainer<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">4</span><span class="hl opt">);</span>
  <span class="hl kwa">for</span><span class="hl opt">(</span>list<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;::</span>iterator p2 <span class="hl opt">=</span> lContainer<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">();</span>
      p2 <span class="hl opt">!=</span> lContainer<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">(); ++</span>p2<span class="hl opt">) {</span>
    cout <span class="hl opt">&lt;&lt; *</span>p2 <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>
  <span class="hl opt">}</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.7. C05/TempTemp4.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
        </div>
        <div class="sect2" title="6.1.4.">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="idp4399440"></a>6.1.4.  </h3>
              </div>
            </div>
          </div>
          <p>

      </p>
          <div class="example">
            <a id="idp4399952"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:TypenamedID.cpp {-bor}</span>
<span class="hl slc">// Uses 'typename' as a prefix for nested types.</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> X <span class="hl opt">{</span>
  <span class="hl slc">// Without typename, you should get an error:</span>
  typename T<span class="hl opt">::</span>id i<span class="hl opt">;</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwb">void</span> <span class="hl kwd">f</span><span class="hl opt">() {</span> i<span class="hl opt">.</span><span class="hl kwd">g</span><span class="hl opt">(); }</span>
<span class="hl opt">};</span>

<span class="hl kwc">class</span> Y <span class="hl opt">{</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwc">class</span> id <span class="hl opt">{</span>
  <span class="hl kwc">public</span><span class="hl opt">:</span>
    <span class="hl kwb">void</span> <span class="hl kwd">g</span><span class="hl opt">() {}</span>
  <span class="hl opt">};</span>
<span class="hl opt">};</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  X<span class="hl opt">&lt;</span>Y<span class="hl opt">&gt;</span> xy<span class="hl opt">;</span>
  xy<span class="hl opt">.</span><span class="hl kwd">f</span><span class="hl opt">();</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.8. C05/TypenamedID.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <p>

      </p>
          <p>

      </p>
          <p>

      </p>
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4402736"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:PrintSeq.cpp {-msc}{-mwcc}</span>
<span class="hl slc">// A print function for Standard C++ sequences.</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl ppc">#include &lt;list&gt;</span>
<span class="hl ppc">#include &lt;memory&gt;</span>
<span class="hl ppc">#include &lt;vector&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">,</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> U<span class="hl opt">,</span> <span class="hl kwc">class</span> <span class="hl opt">=</span> allocator<span class="hl opt">&lt;</span>U<span class="hl opt">&gt; &gt;</span>
         <span class="hl kwc">class</span> Seq<span class="hl opt">&gt;</span>
<span class="hl kwb">void</span> <span class="hl kwd">printSeq</span><span class="hl opt">(</span>Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;&amp;</span> seq<span class="hl opt">) {</span>
  <span class="hl kwa">for</span><span class="hl opt">(</span>typename Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;::</span>iterator b <span class="hl opt">=</span> seq<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">();</span>
       b <span class="hl opt">!=</span> seq<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">();)</span>
    cout <span class="hl opt">&lt;&lt; *</span>b<span class="hl opt">++ &lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl opt">}</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  <span class="hl slc">// Process a vector</span>
  vector<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;</span> v<span class="hl opt">;</span>
  v<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">);</span>
  v<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">2</span><span class="hl opt">);</span>
  <span class="hl kwd">printSeq</span><span class="hl opt">(</span>v<span class="hl opt">);</span>
  <span class="hl slc">// Process a list</span>
  list<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;</span> lst<span class="hl opt">;</span>
  lst<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">3</span><span class="hl opt">);</span>
  lst<span class="hl opt">.</span><span class="hl kwd">push_back</span><span class="hl opt">(</span><span class="hl num">4</span><span class="hl opt">);</span>
  <span class="hl kwd">printSeq</span><span class="hl opt">(</span>lst<span class="hl opt">);</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.9. C05/PrintSeq.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <div class="sect3">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="idp4404840"></a>
                  </h4>
                </div>
              </div>
            </div>
            <p>

	</p>
            <pre class="programlisting">
typename Seq<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;::</span>iterator It<span class="hl opt">;</span>
</pre>
            <p>

      </p>
            <pre class="programlisting">
<span class="hl kwc">typedef</span> typename Seq<span class="hl opt">&lt;</span>It<span class="hl opt">&gt;::</span>iterator It<span class="hl opt">;</span>
</pre>
          </div>
          <div class="sect3">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="idp4406312"></a>
                  </h4>
                </div>
              </div>
            </div>
            <p>

	</p>
            <div class="example">
              <a id="idp4406760"></a>
              <div class="example-contents">
                <pre class="programlisting">
<span class="hl slc">//: C05:UsingTypename.cpp</span>
<span class="hl slc">// Using 'typename' in the template argument list.</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span>typename T<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> X <span class="hl opt">{};</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  X<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;</span> x<span class="hl opt">;</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
              </div>
              <p class="title">
                <strong>Listado 6.10. C05/UsingTypename.cpp</strong>
              </p>
            </div>
            <br class="example-break" />
            <p>

	</p>
          </div>
        </div>
        <div class="sect2" title="6.1.5.">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="idp4408104"></a>6.1.5.  </h3>
              </div>
            </div>
          </div>
          <p>

      </p>
          <div class="example">
            <a id="idp4408616"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:DotTemplate.cpp</span>
<span class="hl slc">// Illustrate the .template construct.</span>
<span class="hl ppc">#include &lt;bitset&gt;</span>
<span class="hl ppc">#include &lt;cstddef&gt;</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl ppc">#include &lt;string&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> charT<span class="hl opt">,</span> <span class="hl kwb">size_t</span> N<span class="hl opt">&gt;</span>
basic_string<span class="hl opt">&lt;</span>charT<span class="hl opt">&gt;</span> <span class="hl kwd">bitsetToString</span><span class="hl opt">(</span><span class="hl kwb">const</span> bitset<span class="hl opt">&lt;</span>N<span class="hl opt">&gt;&amp;</span> bs<span class="hl opt">) {</span>
  <span class="hl kwa">return</span> bs<span class="hl opt">.</span> <span class="hl kwc">template</span> to_string<span class="hl opt">&lt;</span>charT<span class="hl opt">,</span> char_traits<span class="hl opt">&lt;</span>charT<span class="hl opt">&gt;,</span>
                                allocator<span class="hl opt">&lt;</span>charT<span class="hl opt">&gt; &gt;();</span>
<span class="hl opt">}</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  bitset<span class="hl opt">&lt;</span><span class="hl num">10</span><span class="hl opt">&gt;</span> bs<span class="hl opt">;</span>
  bs<span class="hl opt">.</span><span class="hl kwd">set</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">);</span>
  bs<span class="hl opt">.</span><span class="hl kwd">set</span><span class="hl opt">(</span><span class="hl num">5</span><span class="hl opt">);</span>
  cout <span class="hl opt">&lt;&lt;</span> bs <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span> <span class="hl slc">// 0000100010</span>
  string s <span class="hl opt">=</span> bitsetToString<span class="hl opt">&lt;</span><span class="hl kwb">char</span><span class="hl opt">&gt;(</span>bs<span class="hl opt">);</span>
  cout <span class="hl opt">&lt;&lt;</span> s <span class="hl opt">&lt;&lt;</span> endl<span class="hl opt">;</span>  <span class="hl slc">// 0000100010</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.11. C05/DotTemplate.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> charT<span class="hl opt">,</span> <span class="hl kwc">class</span> traits<span class="hl opt">,</span> <span class="hl kwc">class</span> Allocator<span class="hl opt">&gt;</span>
basic_string<span class="hl opt">&lt;</span>charT<span class="hl opt">,</span> traits<span class="hl opt">,</span> Allocator<span class="hl opt">&gt;</span> <span class="hl kwd">to_string</span><span class="hl opt">()</span> <span class="hl kwb">const</span><span class="hl opt">;</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
wstring s <span class="hl opt">=</span> bitsetToString<span class="hl opt">&lt;</span><span class="hl kwb">wchar_t</span><span class="hl opt">&gt;(</span>bs<span class="hl opt">);</span>
</pre>
          <p>

      </p>
          <p>

      </p>
        </div>
        <div class="sect2" title="6.1.6.">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title"><a id="idp4412064"></a>6.1.6.  </h3>
              </div>
            </div>
          </div>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span>typename T<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> <span class="hl kwb">complex</span> <span class="hl opt">{</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> X<span class="hl opt">&gt;</span> <span class="hl kwb">complex</span><span class="hl opt">(</span><span class="hl kwb">const complex</span><span class="hl opt">&lt;</span>X<span class="hl opt">&gt;&amp;);</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwb">complex</span><span class="hl opt">&lt;</span><span class="hl kwb">float</span><span class="hl opt">&gt;</span> <span class="hl kwd">z</span><span class="hl opt">(</span><span class="hl num">1</span><span class="hl opt">,</span> <span class="hl num">2</span><span class="hl opt">);</span>
<span class="hl kwb">complex</span><span class="hl opt">&lt;</span><span class="hl kwb">double</span><span class="hl opt">&gt;</span> <span class="hl kwd">w</span><span class="hl opt">(</span>z<span class="hl opt">);</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span>typename T<span class="hl opt">&gt;</span>
<span class="hl kwc">template</span><span class="hl opt">&lt;</span>typename X<span class="hl opt">&gt;</span>
<span class="hl kwb">complex</span><span class="hl opt">&lt;</span>T<span class="hl opt">&gt;::</span><span class="hl kwb">complex</span><span class="hl opt">(</span><span class="hl kwb">const complex</span><span class="hl opt">&lt;</span>X<span class="hl opt">&gt;&amp;</span> c<span class="hl opt">) {</span><span class="hl com">/* Body here' */</span><span class="hl opt">}</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwb">int</span> data<span class="hl opt">[</span><span class="hl num">5</span><span class="hl opt">] = {</span> <span class="hl num">1</span><span class="hl opt">,</span> <span class="hl num">2</span><span class="hl opt">,</span> <span class="hl num">3</span><span class="hl opt">,</span> <span class="hl num">4</span><span class="hl opt">,</span> <span class="hl num">5</span> <span class="hl opt">};</span>
vector<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;</span> <span class="hl kwd">v1</span><span class="hl opt">(</span>data<span class="hl opt">,</span> data<span class="hl opt">+</span><span class="hl num">5</span><span class="hl opt">);</span>
vector<span class="hl opt">&lt;</span><span class="hl kwb">double</span><span class="hl opt">&gt;</span> <span class="hl kwd">v2</span><span class="hl opt">(</span>v1<span class="hl opt">.</span><span class="hl kwd">begin</span><span class="hl opt">(),</span> v1<span class="hl opt">.</span><span class="hl kwd">end</span><span class="hl opt">());</span>
</pre>
          <p>

      </p>
          <pre class="programlisting">
<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> InputIterator<span class="hl opt">&gt;</span>
<span class="hl kwd">vector</span><span class="hl opt">(</span>InputIterator first<span class="hl opt">,</span> InputIterator last<span class="hl opt">,</span>
       <span class="hl kwb">const</span> Allocator<span class="hl opt">&amp; =</span> <span class="hl kwd">Allocator</span><span class="hl opt">());</span>
</pre>
          <p>

      </p>
          <p>

      </p>
          <div class="example">
            <a id="idp4416608"></a>
            <div class="example-contents">
              <pre class="programlisting">
<span class="hl slc">//: C05:MemberClass.cpp</span>
<span class="hl slc">// A member class template.</span>
<span class="hl ppc">#include &lt;iostream&gt;</span>
<span class="hl ppc">#include &lt;typeinfo&gt;</span>
<span class="hl kwa">using namespace</span> std<span class="hl opt">;</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Outer <span class="hl opt">{</span>
<span class="hl kwc">public</span><span class="hl opt">:</span>
  <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> R<span class="hl opt">&gt;</span> <span class="hl kwc">class</span> Inner <span class="hl opt">{</span>
  <span class="hl kwc">public</span><span class="hl opt">:</span>
    <span class="hl kwb">void</span> <span class="hl kwd">f</span><span class="hl opt">();</span>
  <span class="hl opt">};</span>
<span class="hl opt">};</span>

<span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> T<span class="hl opt">&gt;</span> <span class="hl kwc">template</span><span class="hl opt">&lt;</span><span class="hl kwc">class</span> R<span class="hl opt">&gt;</span>
<span class="hl kwb">void</span> Outer<span class="hl opt">&lt;</span>T<span class="hl opt">&gt;::</span>Inner<span class="hl opt">&lt;</span>R<span class="hl opt">&gt;::</span><span class="hl kwd">f</span><span class="hl opt">() {</span>
  cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;Outer == &quot;</span> <span class="hl opt">&lt;&lt;</span> <span class="hl kwc">typeid</span><span class="hl opt">(</span>T<span class="hl opt">).</span><span class="hl kwd">name</span><span class="hl opt">() &lt;&lt;</span> endl<span class="hl opt">;</span>
  cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;Inner == &quot;</span> <span class="hl opt">&lt;&lt;</span> <span class="hl kwc">typeid</span><span class="hl opt">(</span>R<span class="hl opt">).</span><span class="hl kwd">name</span><span class="hl opt">() &lt;&lt;</span> endl<span class="hl opt">;</span>
  cout <span class="hl opt">&lt;&lt;</span> <span class="hl str">&quot;Full Inner == &quot;</span> <span class="hl opt">&lt;&lt;</span> <span class="hl kwc">typeid</span><span class="hl opt">(*</span><span class="hl kwa">this</span><span class="hl opt">).</span><span class="hl kwd">name</span><span class="hl opt">() &lt;&lt;</span> endl<span class="hl opt">;</span>
<span class="hl opt">}</span>

<span class="hl kwb">int</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
  Outer<span class="hl opt">&lt;</span><span class="hl kwb">int</span><span class="hl opt">&gt;::</span>Inner<span class="hl opt">&lt;</span><span class="hl kwb">bool</span><span class="hl opt">&gt;</span> inner<span class="hl opt">;</span>
  inner<span class="hl opt">.</span><span class="hl kwd">f</span><span class="hl opt">();</span>
<span class="hl opt">}</span> <span class="hl slc">///:~</span>
</pre>
            </div>
            <p class="title">
              <strong>Listado 6.12. C05/MemberClass.cpp</strong>
            </p>
          </div>
          <br class="example-break" />
          <p>

      </p>
          <p>

      </p>
          <pre class="screen">
Outer == int
Inner == bool
Full Inner == Outer&lt;int&gt;::Inner&lt;bool&gt;
</pre>
          <p>

      </p>
          <p>

      </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="ch05s13.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="ch05s13.html">5.13.  </a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="pt02.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch06s02.html">6.2.  </a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch06s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
