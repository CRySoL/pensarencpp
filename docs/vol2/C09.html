<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>8: Herencia múltiple</title>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="chunk.css" />
    <link rel="stylesheet" type="text/css" href="highlight.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Pensar en C++ (Volumen 2)" />
    <link rel="up" href="pt03.html" title="Parte III. Temas especiales" />
    <link rel="prev" href="pt03.html" title="Parte III. Temas especiales" />
    <link rel="next" href="ch08s02.html" title="8.2. Herencia de interfaces" />
  </head>
  <body>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="pt03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="pt03.html">Parte III. Temas especiales</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="pt03.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch08s02.html">8.2. Herencia de interfaces</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch08s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
      </table>
    </div>
    <div class="chapter" title="8: Herencia múltiple">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a id="C09"></a>8: Herencia múltiple</h2>
          </div>
        </div>
      </div>
      <div class="toc">
        <p>
          <strong>Tabla de contenidos</strong>
        </p>
        <dl>
          <dt>
            <span class="sect1">
              <a href="C09.html#idp4865168">8.1. Perspectiva</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s02.html">8.2. Herencia de interfaces</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s03.html">8.3. Herencia de implementación</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s04.html">8.4. Subobjetos duplicados</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s05.html">8.5. Clases base virtuales</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s06.html">8.6. Cuestión sobre búsqueda de nombres</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s07.html">8.7. Evitar la MI</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s08.html">8.8. Extender una interface</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s09.html">8.9. Resumen</a>
            </span>
          </dt>
          <dt>
            <span class="sect1">
              <a href="ch08s10.html">8.10. Ejercicios</a>
            </span>
          </dt>
        </dl>
      </div>
      <p>
      El concepto básico de la herencia múltiple (HM) suena bastante
      simple: puede crear un nuevo tipo heredando de más una una clase
      base. La sintaxis es exactamente la que espera, y en la medida en
      que los diagramas de herencia sean simples, la HM puede ser simple
      también.
  </p>
      <p>
    Sin embargo, la HM puede presentar un buen número de situaciones
    ambiguas y extrañas, que se cubren en este capítulo. Pero primero,
    es útil tener algo de perspectiva sobre el asunto.
  </p>
      <div class="sect1" title="8.1. Perspectiva">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both"><a id="idp4865168"></a>8.1. Perspectiva</h2>
            </div>
          </div>
        </div>
        <p>
      Antes de C++, el lenguaje orientado a objetos más popular era
      Smaltalk. Smaltalk fue creado desde cero como un lenguaje
      orientado a objetos. A menudo se dice que es puro, mientras que a
      C++ se le llama lenguaje híbrido porque soporta múltiples
      paradigmas de programación, no sólo el paradigma orientado a
      objeto. Uno de las decisiones de diseño de Smalltalk fue que
      todas las clases tendrían solo herencia simple, empezando en una
      clase base (llamada <code class="classname">Object</code> - ese es el
      modelo para la <span class="emphasis"><em>jerarquía basada en objetos</em></span>)
      <sup>[<a id="idp4866824" href="#ftn.idp4866824" class="footnote">18</a>]</sup>
      En Smalltalk no puede crear una nueva clase sin derivar de un
      clase existente, que es la razón por la que lleva cierto tiempo
      ser productivo con Smalltalk: debe aprender la librería de
      clases antes de empezar a hacer clases nuevas. La jerarquía de
      clases de Smalltalk es por tanto un único árbol monolítico.
    </p>
        <p>
      Las clases de Smalltalk normalmente tienen ciertas cosas en
      común, y siempre tienen algunas cosas en común (las
      características y el comportamiento de
      <code class="classname">Object</code>), de modo que no suelen aparecer
      situaciones en las que se necesite heredad de más de una clase
      base. Sin embargo, con C++ puede crear tantos árboles de
      herencia distintos como quiera. Por completitud lógica el
      lenguaje debe ser capaz de combinar más de una clase a la vez -
      por eso la necesidad de herencia múltiple.
    </p>
        <p>
      No fue obvio, sin embargo, que los programadores requiriesen
      herencia múltiple, y había (y sigue habiendo) mucha discrepancia
      sobre si es algo esencial en C++. La HM fue añadida en cfront
      release 2.0 de AT&amp;T en 1989 y fue el primer cambio
      significativo en el lenguaje desde la versión 1.0.
      <sup>[<a id="idp4870232" href="#ftn.idp4870232" class="footnote">19</a>]</sup>
      Desde entonces, se han añadido muchas características al
      Estándar C++ (las plantillas son dignas de mención) que
      cambian la manera de pensar al programar y le dan a la HM un
      papel mucho menos importante. Puede pensar en la HM como una
      prestación menor del lenguaje que raramente está involucrada
      en las decisiones de diseño diarias.
    </p>
        <p>
      Uno de los argumentos más convincentes para la HM involucra a
      los contenedores. Suponga que quiere crear un contenedor que
      todo el mundo pueda usar fácilmente. Una propuesta es usar
      <code class="type">void*</code> como tipo para el contenido. La propuesta de
      Smalltalk, sin embargo, es hacer un contenedor que aloja
      <code class="classname">Object</code>, dado que
      <code class="classname">Object</code> es el tipo base de la jerarquía de
      Smalltalk. Como todo en Smalltalk está derivado de
      <code class="classname">Object</code>, un contenedor que aloja
      <code class="classname">Object</code>s puede contener cualquier cosa.
    </p>
        <p>
      Ahora considere la situación en C++. Suponga que el fabricante A
      crea una jerarquía basada-en-objetos que incluye un conjunto de
      contenedores incluye uno que desea usar llamado
      <code class="classname">Holder</code>. Después, se da cuenta de que la
      jerarquía de clases del fabricante B contiene alguna clase que
      también es importante para usted, una clase
      <code class="classname">BitImage</code>, por ejemplo, que contiene
      imágenes. La única forma de hacer que un
      <code class="classname">Holder</code> de <code class="classname">BitImage</code>
      es derivar de una nueva clase que derive también de
      <code class="classname">Object</code>, y así poder almacenarlos en el
      <code class="classname">Holder</code>, y
      <code class="classname">BitImage</code>:
    </p>
        <div class="figure">
          <a id="idp4876144"></a>
          <div class="figure-contents">
            <div class="mediaobject" align="center">
              <img src="./images/V2_13.png" align="middle" />
            </div>
          </div>
          <p class="title">
            <strong>Figura 8.1. </strong>
          </p>
        </div>
        <br class="figure-break" />
        <p>
      Éste fue un motivo importante para la HM, y muchas librerías de
      clases están hechas con este model. Sin embargo, tal como se vio
      en el <a class="link" href="C05.html" title="6: Las plantillas en profundidad">Capítulo 5</a>, la aportación de
      las plantillas ha cambiado la forma de crear contenedores, y por
      eso esta situación ya no es un asunto crucial en favor de la HM.
    </p>
        <p>
      El otro motivo por el que se necesita la HM está relacionado con
      el diseño. Puede usar la HM intencionadamente para hacer un
      diseño más flexible y útil (o al menos aparentarlo). Un ejemplo
      de esto es el diseño de la librería original <code class="filename">iostream</code> (que persiste hoy día, como
      vio en el <a class="link" href="C04.html" title="5: Iostreams">Capítulo 4</a>.
    </p>
        <div class="figure">
          <a id="idp4887216"></a>
          <div class="figure-contents">
            <div class="mediaobject" align="center">
              <img src="./images/V2_13.png" align="middle" />
            </div>
          </div>
          <p class="title">
            <strong>Figura 8.2. </strong>
          </p>
        </div>
        <br class="figure-break" />
        <p>
      Tanto <code class="classname">iostream</code> como
      <code class="classname">ostream</code> son clases útiles por si mismas,
      pero se pueden derivar simultáneamente por una clase que combina
      sus características y comportamientos. La clase
      <code class="classname">ios</code> proporciona una combinación de las
      dos clases, y por eso en este caso la HM es un mecanismo de
      FIXME:code-factoring.
    </p>
        <p>
      Sin importar lo que le motive a usar HM, debe saber que es más
      difícil de usar de lo que podría parecer.
    </p>
      </div>
      <div class="footnotes">
        <br />
        <hr width="100" align="left" />
        <div class="footnote">
          <p><sup>[<a id="ftn.idp4866824" href="#idp4866824" class="para">18</a>] </sup>
	  
	  Esto también ocurre en Java, y en otros lenguajes orientados
	  a objetos.
	</p>
        </div>
        <div class="footnote">
          <p><sup>[<a id="ftn.idp4870232" href="#idp4870232" class="para">19</a>] </sup>
	  
	  Son números de versión internos de AT&amp;T.
	</p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td class="navititle" width="1%">
            <a accesskey="p" href="pt03.html">
              <img src="./images/prev.png" alt="Anterior" />
            </a>
          </td>
          <td class="navititle" width="40%" align="left">
            <a accesskey="p" href="pt03.html">Parte III. Temas especiales</a>
          </td>
          <td width="10%" align="center">
            <a accesskey="u" href="pt03.html">
              <img src="./images/up.png" alt="Subir" />
            </a>
          </td>
          <td class="navititle" width="40%" align="right">
            <a accesskey="n" href="ch08s02.html">8.2. Herencia de interfaces</a>
          </td>
          <td class="navititle" width="1%" align="right">
            <a accesskey="n" href="ch08s02.html">
              <img src="./images/next.png" alt="Siguiente" />
            </a>
          </td>
        </tr>
        <tr>
          <td valign="top"> </td>
          <td> </td>
          <td width="10%" align="center">
            <a accesskey="h" href="index.html">
              <img src="./images/home.png" alt="Inicio" />
            </a>
          </td>
          <td> </td>
          <td valign="top"> </td>
        </tr>
      </table>
    </div>
  </body>
</html>
